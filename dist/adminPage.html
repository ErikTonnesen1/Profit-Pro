<!DOCTYPE html>
<html>
<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>ProfitPro</title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="/index-css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="adminPage_user_table.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet" />
  <!-- Custom styles for this template -->
  <link href="index-css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="index-css/responsive.css" rel="stylesheet" />
</head>



<script type='module' src='main.js'></script>
<body>
  <div class="hero_area">
    <!-- header section starts -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              ProfitPro
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">Home </a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="about.html"> Bookkeeping </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="how.html"> Reports </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <span>User Settings</span> 
                  </a>
                </li>
                <li class="nav-item">
                  <!--Change later to only appear if user's account is
                    a Manager type-->
                  <a class="nav-link" href="#"> Administrator <span class="sr-only">(current)</span></a>
                </li>
                  <!--Change later to only appear if user's account is
                    a Admin type-->
                <li class="nav-item">
                  <a class="nav-link" href="#" id='adminPage-userName'> User Name</a>
                </li>
               </ul>
              <div class="user_option">
                <form class="form-inline my-2 my-lg-0 ml-0 ml-lg-4 mb-3 mb-lg-0">
                  <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit"></button>
                </form>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->

    <style>
           body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
           header { background: blue; color: #ffffff; padding: 20px 0; text-align: center; }
           nav { margin: 20px 0; }
           nav a { color: #ffffff; margin: 0 15px; text-decoration: none; }
           .container { width: 80%; margin: auto; overflow: hidden; }
           footer { background: blue; color: #ffffff; text-align: center; padding: 10px 0; position: relative; bottom: 0; width: 100%; }
           .administratorsection { display: flex; justify-content: space-around; margin: 20px 0; }
           .tab { overflow: hidden; border: 1px solid #ccc; background-color: #f1f1f1; }
           .tab button { background-color: inherit; float: left; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; }
           .tab button:hover { background-color: #ddd; }
           .tab button.active { background-color: #ccc; }
           .tabcontent { display: none; padding: 6px 12px; border: 1px solid #ccc; border-top: none; background-color: #f1f1f1; }
           fieldset { margin-bottom: 30px; }
           input { height: auto; display: block; width: 20%; margin: 5px; }
           input[id="bodyEmail"]{ width: 75%; padding: 60px; }
           tr { border-bottom: 1px solid black; width: 100%; }
           td { text-align: center; }
           table { width: 100%; }

       </style>

       <script>
         document.addEventListener("DOMContentLoaded", function() {
           document.getElementById("defaultOpen").click();
         });
           function openTab(evt, cityName) {
               var i, tabcontent, tablinks;
               tabcontent = document.getElementsByClassName("tabcontent");
               for (i = 0; i < tabcontent.length; i++) {
                   tabcontent[i].style.display = "none";
               }

               tablinks = document.getElementsByClassName("tablinks");
               for (i = 0; i < tablinks.length; i++) {
                   tablinks[i].className = tablinks[i].className.replace(" active", "");
               }

               document.getElementById(cityName).style.display = "block";
               evt.currentTarget.className += " active";
           }
       </script>
	
    <div class="container">
           <section id="amdministratorsection">
               <h2>Administrator</h2>
               <div class="services">
                   <div class="tab">
                       <button class="tablinks" onclick="openTab(event, 'User')" id="defaultOpen">Manage Users</button>
                       <button class="tablinks" onclick="openTab(event, 'Create_User')">Create User</button>
                       <button class="tablinks" onclick="openTab(event, 'Email')">Email</button>
                       <button class="tablinks" onclick="openTab(event, 'Expired-Password')">Expired Passwords</button>
                   </div>

<!--Need to make the table auto populated by API request and then done in
  script-->
  <script>
    function show(id){
      document.getElementById(`${id}`).style.display = "inline-block";
      const buttons = document.getElementsByClassName('actionButton');
      for(let i = 0; i < buttons.length; i++){
        buttons[i].disabled = true;
        buttons[i].style.backgroundColor = '#A9A9A9';
      }
    }
    function hide(id){
      document.getElementById(`${id}`).style.display = "none";
      const buttons = document.getElementsByClassName('actionButton');
      for(let i = 0; i < buttons.length; i++){
        buttons[i].disabled = false;
        buttons[i].style.backgroundColor = '#4CAF50';
      }
    }
  </script>



  <div id="User" class="tabcontent">
    <h3>Users</h3>
    <div id="mainContainer-usertable">
      <!-- Left: Searchable Table -->
      <div id="userTableContainer">

        <style>
          .user-panel {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
          }

         .user-title {
           padding: 10px;
           background-color: #f1f1f1;
           cursor: pointer;
           font-weight: bold;
           display: flex;
           justify-content: space-between;
           align-items: center;
         }

         .user-info {
           display: none; /* Initially hidden */
           padding: 10px;
           background-color: #fff;
         }

         .user-title .arrow {
           font-size: 12px;
         }

         .active .user-info {
           display: block;
         }

         .active .user-title .arrow {
           content: '\\9650'; /* Up arrow */
         }
         .active .user-title{
           background-color: #A9A9A9;

         }

        </style>

        <script>

          function togglePanel(element) {
            const allPanels = document.querySelectorAll('.user-panel');


            allPanels.forEach(panel => {
              if (panel !== element.parentElement) {
                panel.classList.remove('active');
              }
            });
            element.parentElement.classList.toggle('active');
          }
          </script>

      </div>

      <!-- Right: Action Buttons -->
      <div id="actionButtons">

<!--Admin Update user Regular Information-->
        <form id='account-update' action="" method="GET" style="display: none; width: auto;">
          <h4>Update Account</h4>
          <input type="text" id="firstName" name="firstName" required placeholder="First Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <input type="text" id="lastName" name="lastName" required placeholder="Last Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <input type="email" id="email" name="email" required placeholder="Email" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <input type="password" id="password" name="password" required placeholder="Password" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <input type="text" id="address" name="address" required placeholder="Address" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <input type="date" id="DOB" name="DOB" placeholder="Date of Birth" required  style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          <p>Security Question: What is your favorite color?</p>
          <input type="text" id="securityQuestion" name="securityQuestion" required placeholder="Answer to Security Question" style="padding: 10px; width: 100%; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">
          <br>
          <hr>
          <span style="display: inline;">
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
            <button type='button' onclick='hide("account-update")' style="padding: 10px 20px; background-color: #cc3f35; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>
          </span>
        </form>

        <button id="updateInfoBtn" class='actionButton' onclick='show("account-update")'>Update Information</button>

<!--Admin Update User Role form-->
        <form id='update-accountType' action="" method="GET" style="display: none; width: auto;">
          <hr>
          <br>
          <h4>Update User Role</h4>
          <select id="accountType-select" name="options" 
            style="padding: 10px; width: 100%; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc; background-color: #fff; color: #333; font-size: 16px;" required>

            <option value="" disabled selected>Select Account Type</option>
            <option value="Admin">Admin</option>
            <option value="Manager">Manager</option>
            <option value="Regular-User">Regular User</option>
          </select>

          <br>
          <hr>

          <span style="display: inline;">
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
            <button type='button' onclick='hide("update-accountType")' style="padding: 10px 20px; background-color: #cc3f35; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>
          </span>

          <script>
            function changeColor(){
              const selectedValue = document.getElementById('styledSelect').value;

              if(selectedValue === "true"){
                document.getElementById('styledSelect').style.backgroundColor = "#4CAF50";
                document.getElementById('styledSelect').style.color = "white";

              }else if (selectedValue === 'false'){
                document.getElementById('styledSelect').style.backgroundColor = "#f44336";
                document.getElementById('styledSelect').style.color = "white";

              }            
            }
          </script>
        </form>

        <button id="changeAccountType" class='actionButton' onclick="show('update-accountType')">Change User Role</button>


<!--Admin Activate/Deactivate User form-->
        <form id='update-activeStatus' action="" method="GET" style="display: none; width: auto;">
          <hr>
          <br>
          <h4>Update Active Status</h4>

          <select id="styledSelect" name="action" onchange="changeColor()" style="padding: 10px; width: auto; border-radius: 5px; background-color: #f0f0f0; color: #333; font-size: 16px; appearance: none; cursor: pointer;">
            <option value="" disabled selected style="background-color: #333; display: none;">Select an Option</option>
            <option value="true" style="padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Activate</option>
            <option value="false" style="padding: 10px; background-color: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer;">Deactivate</option>
          </select>


          <br>
          <hr>
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
            <button type='button' onclick='hide("update-activeStatus")' style="padding: 10px 20px; background-color: #cc3f35; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>

        </form>


        <button id="activateDeactivateBtn-rolesTable" class='actionButton' onclick="show('update-activeStatus')">Activate/Deactivate User</button>


<!--Admin Suspend User form-->
        <form id='account-suspend' action="" method="GET" style="display: none; width: auto;">
          <hr>
          <br>
          <h4>Suspend User</h4>
          <label>
            Start Date <br>
            <input type="date" id="start-suspend" name="end-suspend" placeholder="Start of Suspension" required  style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          </label>

          <label>
            End Date <br>
            <input type="date" id="end-suspend" name="start-suspend" placeholder="End of Suspension" required  style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
          </label>

          <br>
          <hr>
          <span style="display: inline;">
            <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
            <button type='button' onclick='hide("account-suspend")' style="padding: 10px 20px; background-color: #cc3f35; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>
          </span>
        </form>



        <button id="suspendUserBtn-rolesTable" class='actionButton' onclick="show('account-suspend')">Suspend User</button>
      </div>
    </div>


  </div>


  <!--Update with table from adminPage-->
  <div id="Create_User" class="tabcontent">

    <h3>Create User</h3>
    <form action="https://adminadduser-hbs3oxnkoa-uc.a.run.app/adminAddUser" method="GET" style="display: inline-block; width: 300px;">
      <input type="text" id="firstName" name="firstName" required placeholder="First Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid # ccc;">      
      <input type="text" id="lastName" name="lastName" required placeholder="Last Name" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
      <input type="email" id="email" name="email" required placeholder="Email" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
      <input type="password" id="password" name="password" required placeholder="Password" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
      <input type="text" id="address" name="address" required placeholder="Address" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
      <input type="date" id="DOB" name="DOB" required placeholder="Date of Birth" style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">

      <select name="accountType" id="accountType" required style="padding: 10px; width: 100%; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ccc;">
        <option value="" disabled selected>Select Account Type</option>
        <option value="Admin">Admin</option>
        <option value="Manager">Manager</option>
        <option value="Regular-User">Regular User</option>
      </select>

      <p>Security Question: What is your favorite color?</p>

      <input type="text" id="securityQuestion" name="securityQuestion" required placeholder="Answer to Security Question" 
                                                                                style="padding: 10px; width: 100%; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">

      <button type="submit" style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
    </form>

  </div>

  <div id="Email" class="tabcontent">
    <h3>Email</h3>

    <label for="toEmail">To:</label>
    <input type="text" id="toEmail" name="toEmail">

    <label for="bodyEmail">Body:</label>
    <input type="text" id="bodyEmail" name="bodyEmail">

    <button>Send</button>
  </div>

  <div id="Expired-Password" class="tabcontent"> 
    <h3>Expired Passwords</h3>

    <table>
      <tr> 
        <th>Password</th>
        <th>Email</th>
        <th>User Name</th>
        <th>Expired On</th>
      </tr>
    </table>

  </div>

      </div>
  </section>
</div>

    <!-- footer section -->
    <section class="container-fluid footer_section">
      <p>
      &copy; ProfitPro LLC
      </p>
    </section>
    <!-- footer section -->
  </div>







  <script type="text/javascript" src="js-for-index/jquery-3.4.1.min.js"></script>
  <script type="text/javascript" src="js-for-index/bootstrap.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>

</body>

</html>
